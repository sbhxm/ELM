webpackJsonp([11],{"5bgv":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=a("Muz9"),o=a.n(c),s=a("Cz8s");o.a.defaults.withCredentials=!0;var n={name:"Logon",components:{Header:s.a},data:function(){return{txt:"",val:"",checked:!0,code:"",show:!1,captcha_code:""}},methods:{changeImg:function(){var t=this;this.axios.post("http://elm.cangdu.org/v1/captchas",{}).then(function(e){""!=e.data.code&&(t.code=e.data.code)})},Verify:function(){var t=this;o.a.post("http://elm.cangdu.org/v2/login",{username:this.txt,password:this.val,captcha_code:this.captcha_code}).then(function(e){console.log(e.data),e.data.id?(t.$store.commit("elm",e.data),t.$router.push("/message")):t.show=!0})}},mounted:function(){this.changeImg()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",[a("router-link",{attrs:{slot:"first",tag:"div",to:"/"},slot:"first"},[a("p",{staticClass:"el-icon-arrow-left"})]),t._v(" "),a("p",{attrs:{slot:"mid"},slot:"mid"},[t._v("密码登录")]),t._v(" "),a("p",{attrs:{slot:"last"},slot:"last"})],1),t._v(" "),a("van-cell-group",[a("van-field",{attrs:{clearable:"",label:"账号",placeholder:"请输入用户名"},on:{"click-right-icon":function(e){return t.$toast("question")}},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}}),t._v(" "),a("div",{staticClass:"verify"},[a("van-field",{attrs:{type:t.checked?"text":"password",label:"密码",placeholder:"请输入密码"},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}}),t._v(" "),a("van-switch",{style:{position:"absolute",right:"0.3rem",top:"0.12rem"},attrs:{size:"0.2rem","active-color":"#07c160","inactive-color":"#f44"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1),t._v(" "),a("div",{staticClass:"VerNum"},[a("van-field",{attrs:{clearable:"",label:"验证码"},on:{"click-right-icon":function(e){return t.$toast("question")}},model:{value:t.captcha_code,callback:function(e){t.captcha_code=e},expression:"captcha_code"}}),t._v(" "),a("ul",{staticClass:"NumUl"},[a("li",[a("img",{attrs:{src:t.code,alt:""}})])]),t._v(" "),a("div",{staticClass:"VerNum-div",on:{click:function(e){return t.changeImg()}}},[a("p",[t._v("看不清")]),t._v(" "),a("p",[t._v("换一张")])])],1)],1),t._v(" "),a("div",{staticClass:"red-txt"},[a("p",[t._v("温馨提示：未注册过的账号，登录时将自动注册")]),t._v(" "),a("router-link",{attrs:{to:"/user",tag:"p"}},[t._v("注册过的用户可凭账号密码登录")])],1),t._v(" "),a("div",{staticClass:"an"},[a("el-row",[a("el-button",{style:{width:"96%",marginLeft:"2%"},attrs:{type:"success"},nativeOn:{click:function(e){return t.Verify()}}},[t._v("登录")])],1),t._v(" "),a("p",[t._v("重置密码")])],1),t._v(" "),a("van-popup",{staticClass:"logon-popup",style:{width:"60%",height:"20%"},attrs:{round:"","get-container":"body",position:"center"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("\r\n    请输入正确的账号或密码\r\n")])],1)},staticRenderFns:[]};var l=a("C7Lr")(n,i,!1,function(t){a("AkyK")},null,null);e.default=l.exports},AkyK:function(t,e){}});
//# sourceMappingURL=11.f59d0a127db08b95d3e6.js.map