{"version":3,"sources":["webpack:///src/page/logon/logon.vue","webpack:///./src/page/logon/logon.vue?eb5c","webpack:///./src/page/logon/logon.vue"],"names":["_axios_0_19_0_axios_default","a","defaults","withCredentials","logon","name","components","Header","header","data","txt","val","checked","code","show","captcha_code","methods","changeImg","_this","this","axios","post","then","res","Verify","_this2","username","password","console","log","id","$store","commit","$router","push","mounted","logon_logon","render","_vm","_h","$createElement","_c","_self","attrs","slot","tag","to","staticClass","_v","clearable","label","placeholder","on","click-right-icon","$event","$toast","model","value","callback","$$v","expression","type","style","position","right","top","size","active-color","inactive-color","src","alt","click","width","marginLeft","nativeOn","height","round","get-container","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.f59d0a127db08b95d3e6.js","sourcesContent":["<template>\r\n<div>\r\n<!-- 头部 -->\r\n<Header>\r\n    <router-link tag=\"div\" slot=\"first\" to='/'><p  class=\"el-icon-arrow-left\"></p></router-link>\r\n    <p slot=\"mid\">密码登录</p>\r\n    <p slot=\"last\"></p>\r\n</Header>\r\n\r\n<van-cell-group>\r\n<!-- 账号 -->\r\n<van-field v-model=\"txt\"\r\n    clearable label=\"账号\" \r\n    placeholder=\"请输入用户名\" @click-right-icon=\"$toast('question')\"/>\r\n<!-- 密码 -->\r\n<div class=\"verify\">    \r\n<van-field v-model=\"val\" :type=\"checked?'text':'password'\"\r\n     label=\"密码\" placeholder=\"请输入密码\"/>\r\n    <van-switch size='0.2rem' active-color=\"#07c160\" inactive-color=\"#f44\" v-model=\"checked\"\r\n    :style=\"{position:'absolute',right:'0.3rem',top:'0.12rem'}\" />\r\n</div>\r\n<!-- 验证码 -->\r\n<div class=\"VerNum\">\r\n    <van-field clearable v-model=\"captcha_code\" label=\"验证码\" @click-right-icon=\"$toast('question')\" /> \r\n    <ul class=\"NumUl\">\r\n        <li><img :src=\"code\" alt=\"\" /></li>\r\n        \r\n    </ul>\r\n    <div @click=\"changeImg()\" class=\"VerNum-div\">\r\n        <p>看不清</p>\r\n        <p>换一张</p>\r\n    </div>\r\n</div>\r\n\r\n</van-cell-group>\r\n<!-- 红字 -->\r\n<div class=\"red-txt\">\r\n    <p>温馨提示：未注册过的账号，登录时将自动注册</p>\r\n    <router-link to='/user' tag=\"p\">注册过的用户可凭账号密码登录</router-link>\r\n</div>\r\n<!-- 登录按钮 -->\r\n<div class=\"an\">\r\n    <el-row>\r\n        <el-button @click.native=\"Verify()\"\r\n         type=\"success\" :style=\"{width:'96%',marginLeft:'2%'}\">登录</el-button>\r\n    </el-row>\r\n    <p>重置密码</p>\r\n</div>\r\n<!-- 错误弹出框 -->\r\n<van-popup v-model=\"show\"  round get-container=\"body\" class=\"logon-popup\"\r\n  position=\"center\" :style=\"{width:'60%',height: '20%' }\">\r\n    请输入正确的账号或密码\r\n</van-popup>\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\naxios.defaults.withCredentials = true // 让 axios 请求携带 cookie\r\nimport Header from '@/components/header.vue'\r\n\t export default {\r\n        name: \"Logon\",\r\n        components:{\r\n            Header\r\n        },\r\n        data(){\r\n            return{\r\n                txt:'',         //账号\r\n                val:'',         //密码\r\n                checked: true,  //开关\r\n                code:'',\r\n                show:false,     // 错误模态框\r\n                captcha_code:''\r\n            }\r\n        },\r\n        methods: {\r\n            changeImg(){\r\n            //获取验证码数据\r\n               this.axios.post(\"http://elm.cangdu.org/v1/captchas\",{}).then((res)=>{\r\n\r\n                    if(res.data.code!=''){\r\n                        // debugger;\r\n                        // console.log(res)\r\n                        this.code=res.data.code\r\n                    }\r\n                })\r\n           },\r\n            //登录\r\n            Verify(){\r\n                // var phone=/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\\d{8}$/;\r\n                // var PassWord=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;\r\n                // if(!phone.test(this.txt) || this.txt=='' || !PassWord.test(this.val) || this.val==''){\r\n                    \r\n                // }else{// }\r\n                    axios.post('http://elm.cangdu.org/v2/login',{\r\n                        username:this.txt,\r\n                        password:this.val,\r\n                        captcha_code:this.captcha_code,\r\n                        \r\n                    }).then((res)=>{\r\n                        console.log(res.data)\r\n                        \r\n                        if(!res.data.id){\r\n                            this.show=true;\r\n                        }else{\r\n                            // localStorage.log=JSON.stringify(res.data.id)\r\n                            // 用vuex代替了本地存储\r\n                            this.$store.commit('elm',res.data)\r\n\r\n                            this.$router.push('/message')\r\n                        }\r\n                        \r\n                    })\r\n                \r\n                // <img :src=\"this.userImg\" alt=\"\"/>\r\n                \r\n            },\r\n                \r\n            \r\n        },\r\n        mounted() {\r\n            this.changeImg();\r\n        },\r\n\r\n\r\n\r\n    }\r\n</script>\r\n\r\n<style lang='scss'>\r\na{\r\n    text-decoration: none;\r\n}\r\nul,li,p{margin: 0;padding: 0;}\r\nul{\r\n    list-style: none;\r\n    li{list-style: none;}\r\n}\r\n\r\n.verify{\r\n    position: relative;\r\n    van-switch{\r\n        position: absolute;\r\n        right: 04rem;\r\n    }\r\n}\r\n.red-txt{\r\n    font-size: 0.12rem;\r\n    color: #FF0000;\r\n    p{\r\n        text-indent: 0.17rem;\r\n        margin-top: 0.1rem;\r\n    }\r\n}\r\n.an{\r\n     margin-top: 0.2rem;\r\n     p{\r\n         font-size: 0.14rem;\r\n         float:right;color: #3190E8;\r\n         margin-top: 0.4rem; margin-right: 0.16rem;\r\n     }\r\n}\r\n.VerNum{\r\n    position: relative;\r\n    .NumUl{\r\n        position: absolute;\r\n        right: 1.2rem;top: 0.1rem;\r\n        display: flex;\r\n        li{\r\n            display: block;\r\n        }\r\n    }\r\n    .VerNum-div{\r\n        position: absolute;\r\n        right: 0.3rem;top: 0.02rem;\r\n        font-size: 0.16rem;\r\n        p:nth-of-type(1){color: #3190E8}\r\n    }\r\n}\r\n.logon-popup{\r\n    display: flex;color: red;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/logon/logon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header',[_c('router-link',{attrs:{\"slot\":\"first\",\"tag\":\"div\",\"to\":\"/\"},slot:\"first\"},[_c('p',{staticClass:\"el-icon-arrow-left\"})]),_vm._v(\" \"),_c('p',{attrs:{\"slot\":\"mid\"},slot:\"mid\"},[_vm._v(\"密码登录\")]),_vm._v(\" \"),_c('p',{attrs:{\"slot\":\"last\"},slot:\"last\"})],1),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"clearable\":\"\",\"label\":\"账号\",\"placeholder\":\"请输入用户名\"},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.txt),callback:function ($$v) {_vm.txt=$$v},expression:\"txt\"}}),_vm._v(\" \"),_c('div',{staticClass:\"verify\"},[_c('van-field',{attrs:{\"type\":_vm.checked?'text':'password',\"label\":\"密码\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}}),_vm._v(\" \"),_c('van-switch',{style:({position:'absolute',right:'0.3rem',top:'0.12rem'}),attrs:{\"size\":\"0.2rem\",\"active-color\":\"#07c160\",\"inactive-color\":\"#f44\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"VerNum\"},[_c('van-field',{attrs:{\"clearable\":\"\",\"label\":\"验证码\"},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.captcha_code),callback:function ($$v) {_vm.captcha_code=$$v},expression:\"captcha_code\"}}),_vm._v(\" \"),_c('ul',{staticClass:\"NumUl\"},[_c('li',[_c('img',{attrs:{\"src\":_vm.code,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"VerNum-div\",on:{\"click\":function($event){return _vm.changeImg()}}},[_c('p',[_vm._v(\"看不清\")]),_vm._v(\" \"),_c('p',[_vm._v(\"换一张\")])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"red-txt\"},[_c('p',[_vm._v(\"温馨提示：未注册过的账号，登录时将自动注册\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/user\",\"tag\":\"p\"}},[_vm._v(\"注册过的用户可凭账号密码登录\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"an\"},[_c('el-row',[_c('el-button',{style:({width:'96%',marginLeft:'2%'}),attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.Verify()}}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('p',[_vm._v(\"重置密码\")])],1),_vm._v(\" \"),_c('van-popup',{staticClass:\"logon-popup\",style:({width:'60%',height: '20%' }),attrs:{\"round\":\"\",\"get-container\":\"body\",\"position\":\"center\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_vm._v(\"\\r\\n    请输入正确的账号或密码\\r\\n\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-13c92e33\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/logon/logon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13c92e33\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./logon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./logon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./logon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13c92e33\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./logon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/logon/logon.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}